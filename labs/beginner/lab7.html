<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 7: Building a Mr. Roboto (Part-1): Motors!</title>
    <!-- Bootswatch Litera CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/litera/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="Media/Photos/Logo.svg">
    <!-- Code Highlighting CSS-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>

    <link rel="stylesheet" href="../../styles.css"></link>
</head>
<body>

    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <!-- Main Container -->
    <div class="container">
        <div class="row">
            <!-- Lab 1 Page Heading -->        
            <div class="col-md-4">
                <div class="sticky-top" style="padding-top:100px;">
                    <p>Total Time: 2.5 hours</p>
                    <h5>Quick Links</h5>
                    <ul>
                        <li><a href="#introduction">Introduction & Safety</a></li>
                        <li><a href="#fabq">Fabrication Quest</a></li>
                        <li><a href="#software">Software & Hardware for the Lab</a></li>
                        <li><a href="#part0">Part (0): Understanding Code and Testing the Motors</a></li>
                        <li><a href="#part2">Part (2): Assembling the Chassis</a></li>
                        <li><a href="#part3">Part (3): Driving the Robot</a></li>
                        <li><a href="#part4">Part (4): Remix Driving!</a></li>
                    </ul>
                </div>
            </div>

            <!-- Introduction Section -->
            <div class="col-md-8" style="padding-top:100px;">
                <section class="mb-4">
                    <h1 class="mb-5"><a id="introduction">Lab 7: Building a Mr. Roboto (Part-1): Motors!</a></h1>
                    <img src="media/lab78/RobotAssem.jpg" class="rounded mx-auto d-block img-fluid">
                    <p>This is the first in a series of two labs that will introduce you to building and programming your own robot. In this series, you will learn the basics of DC motors, motor control, sensor integration and algorithm development. In this first lab, we will learn about DC motors and tackle the assembly and motor control. By the end you will have your robot driving a trajectory you designed.</p>
                    
                    <h2>ü¶∫ Safety and Important Tips</h2>
                    <p>(1 minute read)</p>
                    <p>The voltages and currents we are using are not capable of being harmful, but there are <b>infinite ways</b> to fry your circuit.</p>
                    <p>Always follow these tips as you complete this and future labs:</p>
                    <ul>
                        <li>Unpower your circuit when making <b>any</b> change</li>
                        <li>Double check your wiring before plugging in</li>
                        <li>When soldering, check for bridges between pads</li>
                        <li>Many of the components are cheap/fragile, use them only as instructed</li>
                    </ul>
                </section>
                <hr>
                <br>
                <h2><a id="fabq">üî® Fabrication Quest of the Day</a></h2>
                <ul>
                    <li><strong>Today, you will assemble and drive a robotic car:</strong>
                        <ul>
                            <li>Assemble a robotic car without sensors</li>
                            <li>Give basic driving commands</li>
                        </ul>
                    </li>
                </ul>
                <b>Your instructors will provide you with the following:</b>
                <a id="software"></a>
                <ul>
                    <li>Laser cut robotic chassis (<strong>x1</strong>)</li>
                    <li>Motor mount (<strong>x2</strong>)</li>
                    <li>Ardiuno + motor shield (<strong>x1</strong>)</li>
                    <li>Ardiuno mount (<strong>x1</strong>)</li>
                    <li>Caster wheel standoff (<strong>x2</strong>)</li>
                </ul>
                <p>All other parts can be found on the shelves. Ask if you have trouble finding anything.</p>
                <hr>

                <!-- Materials Section -->
                <section class="mb-4">
                    <h2>üèóÔ∏è Software & Hardware</h2>
                    <h5>Software:</h5>
                    <ul>
                        <li><a href="https://www.autodesk.com/education/edu-software/fusion">Fusion360</a> Ardiuno IDE</li>
                    </ul>
                    <h5>Hardware:</h5>
                    <ul>
                        <li>3mm x 15 (<strong>x20000002</strong>)</li>
                        <li>2.5mm x 15 (<strong>x1231232</strong>)</li>
                        <li>4mm x 15 (<strong>x22 million</strong>)</li>
                    </ul>
                    <h5>Machines:</h5>
                    <ul>
                        <li>Soldering Iron</li>
                    </ul>
                </section>
                <hr>

                <!-- Procedure Section -->
                <section class="mb-4">
                    <!-- Part 0: Understanding Fusion360 Workspace -->
                    <h4><a id="part0">Part (0): Understanding Code and Testing the Motors (25 mins)</a></h4>
                    <p>We are using the L293D motor shield. It has support for 4 DC motors (or 2 steppers) and 2 servos. We can also power the motors and Ardiuno through the shield. We are using the AFMotor library because, while we technically don‚Äôt need it, libraries make our code easier to write and read. We don‚Äôt have to worry about the exact pins and values we are writing to or creating our own PWM signals.</p>
                    <p>We are going to start this lab by understanding how we can control our motors using the AF_Motor library you installed. Then we will test the motors and make a function that will be even better at controlling the motors.</p>
                    <ol>
                        <li><strong>Download Motor Library</strong> Click the books icon on the left side of the Ardiuno IDE and install "Adafruit Motor Shield library"</li>
                        <li>Initialize the library. This tells Ardiuno that you can use functions from this external library</li>
                        <pre><code class="language-javascript"> #include &#60;AFMotor.h&#62; </code></pre> 
                        <li>Create motor objects for two motors</li>
                        <pre><code class="language-javascript">AF_DCMotor rightMotor(1);  // Motor connected to M1
AF_DCMotor leftMotor(2);   // Motor connected to M2</code></pre> 
                        <li>Set motor speed. setSpeed only takes a range of 0-255. It sends a PWM signal to the motor.</li>
                        <pre><code class="language-javascript">void setup() {
    rightMotor.setSpeed(100);
    leftMotor.setSpeed(100);
}</code></pre>
                        <li>Set motor direction. The options are FORWARD, BACKWARD, and RELEASE. RELEASE stops the motors.</li>
                        <pre><code class="language-javascript"> void setup() {
    rightMotor.setSpeed(100);
    leftMotor.setSpeed(100);
    rightMotor.run(FORWARD);
    leftMotor.run(FORWARD);
}</code></pre>
                        <li>Plug the motor shield into the Ardiuno, making sure the pins are all aligned.</li>
                        <li>Get two of the yellow TT motors and plug them into the M1 and M2 terminals on the shield as shown. M1 should be the left motor, and M2 the right motor. It actually doesn't matter which terminal has red or black. If you swap it, it will just reverse the direction of the motor</li>
                        <img src="media/lab78/MotorCableOrder1.jpg" class="rounded mx-auto d-block img-fluid mb-3 mt-3">
                        <li>Upload the code. The reason the motors spin so slow is because they are being powered by the Ardiuno which cannot supply enough current.</li>
                        <li>Alter the code to switch the direction of the motors.</li>
                    </ol>
                    <p>Now, make alter your code to drive the motors forward for 3 seconds, stops for 1 seconds, drive backward for 3 seconds and repeat.</p>
                    <div class="alert alert-info" role="alert" style="background-color: #C94747; color: white;">
                        <h4>Checkoff 1</h4>
                        <a id="part2"></a>
                        Ask your instructor for a check-off on completing Part (1). Demonstrate your forward, stop, and backwards script.
                    </div>
                    <hr>

                    <!-- Part 1: Assembling the Chassis -->
                    <h4><a id="part2">Part (2) Assembling the Chassis</a></h4>
                    <p>We are now going to assemble our chassis. Make sure you have all the following pieces.</p>
                    <ul>
                        <li>Laser cut chassis (<strong>x1</strong>)</li>
                        <li>Motor mount (<strong>x2</strong>)</li>
                        <li>Ardiuno + motor shield (<strong>x1</strong>)</li>
                        <li>Ardiuno mount (<strong>x1</strong>)</li>
                        <li>Caster wheel standoff (<strong>x2</strong>)</li>
                        <li>2/2.5/3mm screws.</li>
                    </ul>
                    <p>Now attach components to the laser cut chassis in the following order:</p>
                    <ol>
                        <li>Attach the motor mounts to the chassis using <strong>3mm x 12mm (x4)</strong> bolts</li>
                        <li>Attach the Ardiuno to its mount and the chassis using <strong>3mm x 16mm (x3)</strong> bolts</li>
                        <li>Attach the ball caster and spacer to its mount and the chassis using <strong>3mm x 16mm (x3)</strong> bolts</li>
                        <li>Mount Motors to motor brackets using long <strong>3mm x 16mm (x3)</strong> bolts</li>
                        <li>Mount Servo at front using <strong>2mm x 6mm (x3)</strong> bolts. This is a bit tricky so don't do it if you are running low on time.</li>
                        <li>Use double sided tape to mount battery pack on bottom in orientation depicted</li>
                        <li>Stick mini breadboard to robot</li>
                        <li>Add wheel</li>
                    </ol>
                    <p><b>Congrats!</b> You have built a robot.</p>
                    <div class="alert alert-info" role="alert" style="background-color: #C94747; color: white;">
                        <h4>Checkoff 2</h4>
                        <a id="part2"></a>
                        Ask your instructor for a check-off on completing Part (2)
                    </div>
                    <hr>

                    <!-- Part 3: Driving the Robot -->
                    <h4><a id="part3">Part (3) Driving the Robot</a></h4>
                    <p>We are now going to control our robot</p>
                    <ol>
                        <li>Try driving your robot in a straight line by setting each motor to some speed. What do you notice about the direction? Does it drive straight?</li>
                        <li>Adjust the relative motor speeds until your robot drives roughly straight.</li>
                        <li>We will create a new function that drives straight for a certain time called driveStraight(millis). To create a function in Ardiuno, you must declare the return type.
                             If the function should return nothing, then the type is void (as it is here). Otherwise, consider a function that would return an integer value of a sensor - it would have type int.
                             Fill in the body of the driveStraight function with the values you found in the previous step and place it at the end of the 
                            script. Even though function is at the end, it can still be called at the top. This is because the Ardiuno IDE reads the entire script before running it.
                        </li>
                        <div class="d-flex">
                            <div class="flex-fill">
                                <pre><code class="language-javascript">
void driveStraight(int millis) {
    // TODO: Fill in the body of this function
}


                                </code></pre>
                            </div>
                            <div class="flex-fill">
                                <img src="media/lab78/driveStraight.gif" class="rounded mx-auto d-block img-fluid">
                            </div>
                        </div>
                        <li>Test it by driving forward for 0.5, 1, 3 seconds</li>
                        <li>Try to command your robot to turn in place exactly 90 degrees counter clockwise. How should each motor be commanded? Set a turn speed, and just alter the duration of turn to dial in 90 degrees. </li>
                        <li>Using this timing, fill in the body of the function called turnRight(). Then do the same process to create turnLeft(). Place both functions at at the end of your script.</li>
                        <div class="d-flex">
                            <div class="flex-fill">
                                <pre class="language-javascript">
                                    <code class="language-javascript">
void turnRight() {
    // TODO: Fill in the body of this function
}

void turnLeft() {   
    // TODO: Fill in the body of this function
}







                                    </code></pre>
                            </div>
                            <div class="flex-fill">
                                <img src="media/lab78/turnRight.gif" class="rounded mx-auto d-block img-fluid mb-2">
                                <img src="media/lab78/turnLeft.gif" class="rounded mx-auto d-block img-fluid">
                            </div>
                        </div>
                        <li>In the loop() of your code, use your turning and driving functions.e with side length 50cm clockwise. Do it again going counterclockwise. How well does it return to its starting location? What might cause this? What ideas of sensors could we use to fix this?</li>
                    </ol>
                    <p>You may have noticed that it was difficult to get your robot to drive straight and turn a desired amount consistently. This is because the robot is open-loop. It has no idea where it is or where it is going. We are going to close the loop next lab by adding sensors so the robot can detect where it is and where it wants to go.</p>
                    <div class="alert alert-info" role="alert" style="background-color: #C94747; color: white;">
                        <h4>Checkoff 3</h4>
                        <a id="part2"></a>
                        Ask your instructor for a check-off on completing Part (3) CCW/CW loops.
                    </div>
                    <hr>

                    <!-- Part 4: Remix Driving -->
                    <h4><a id="part4">Part (4) Remix Driving!</a></h4>
                    <p>Now that you have a robot that can drive as you command it, try driving in more interesting shapes. Here are some ideas to get you started:</p>
                    <ul>
                        <li>Drive in a circle with a desired radius</li>
                        <li>Drive in an n-sided polygon (square, hexagon, octagon etc). Can you make a function that can take in a number of sides and drives in that shape?</li>
                        <li>Drive in an infinity symbol</li>
                        <li>Drive in the shape of some mathematical function</li>
                    </ul>
                </section>
            </div>
        </div>
    </div> <!-- End Container -->

    <!-- Footer -->
    <footer class="text-center py-4">
        <p>¬© 2025 Actuated Experiences ¬∑ MIT</p>
    </footer>

    <!-- Bootstrap JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Script to Load Header -->
    <script src="../../js/load_header_labs.js"></script>
</body>
</html>
